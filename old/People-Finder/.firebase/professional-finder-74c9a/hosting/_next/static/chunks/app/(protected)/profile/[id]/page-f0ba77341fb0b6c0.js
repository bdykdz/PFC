(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{7169:(e,t,a)=>{Promise.resolve().then(a.bind(a,4679))},7401:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:x,...m}=e;return(0,r.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:d?24*Number(i)/Number(s):i,className:l("lucide",c),...m},[...x.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:d,...c}=a;return(0,r.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(s(e)),d),...c})});return a.displayName="".concat(e),a}},5565:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(4146),s=a.n(r)},4146:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return d},getImageProps:function(){return i}});let r=a(306),s=a(666),l=a(7970),n=r._(a(5514));function i(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let d=l.Image},4679:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(5155),s=a(2115),l=a(6046),n=a(4595),i=a(7058),d=a(9749),c=a(3312),o=a(652),x=a(1567);let m=(0,o.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,x.cn)(m({variant:a}),t),...s})}var u=a(7401);let g=(0,u.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),p=(0,u.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),f=(0,u.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var j=a(5565),b=a(333);function y(){let e=(0,l.useParams)(),[t,a]=(0,s.useState)(null),[o,x]=(0,s.useState)([]),[m,u]=(0,s.useState)([]),[y,v]=(0,s.useState)([]),[N,w]=(0,s.useState)(!0),[k,D]=(0,s.useState)(1),[C,E]=(0,s.useState)(1),P=(0,l.useRouter)();(0,s.useEffect)(()=>{(async()=>{if(e.id)try{let t=await (0,i.x7)((0,i.H9)(n.db,"users",e.id));if(!t.exists())return;let r=t.data();a({id:t.id,...r});let s=(0,i.P)((0,i.rJ)(n.db,"contracts"),(0,i._M)("userId","==",e.id)),l=await (0,i.GG)(s);x(l.docs.map(e=>({id:e.id,...e.data(),startDate:e.data().startDate.toDate(),endDate:e.data().endDate.toDate()})));let d=(0,i.P)((0,i.rJ)(n.db,"diplomas"),(0,i._M)("userId","==",e.id)),c=await (0,i.GG)(d);u(c.docs.map(e=>({id:e.id,...e.data(),date:e.data().date.toDate()})));let o=(0,i.P)((0,i.rJ)(n.db,"skills"),(0,i._M)("userId","==",e.id)),m=await (0,i.GG)(o);v(m.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching data:",e)}finally{w(!1)}})()},[e.id]);let S=async e=>{try{if(e.startsWith("https://firebasestorage.googleapis.com")){window.open(e,"_blank");return}let t=(0,b.c7)(),a=(0,b.KR)(t,e),r=await (0,b.qk)(a);window.open(r,"_blank")}catch(e){console.error("Error downloading file:",e),alert("Failed to download file. Please try again.")}};if(N)return(0,r.jsx)("div",{children:"Loading..."});if(!t)return(0,r.jsx)("div",{children:"User not found"});let M=(()=>{if(!(null==o?void 0:o.length))return{general:0,byPosition:{}};let e=0;try{if(null==t?void 0:t.generalExperience){let a=t.generalExperience.toDate?t.generalExperience.toDate():new Date(t.generalExperience);e=Math.floor((new Date().getTime()-a.getTime())/31536e6)}}catch(t){console.error("Error calculating general experience:",t),e=0}let a={};return o.forEach(e=>{let t=(e.endDate.getTime()-e.startDate.getTime())/31536e6;a[e.position]?a[e.position]+=t:a[e.position]=t}),{general:Math.max(0,e),byPosition:a}})();return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(d.Zp,{children:(0,r.jsx)(d.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[auto,1fr,auto] gap-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)(j.default,{src:t.profileImage||"/placeholder.svg",alt:t.name,width:150,height:150,className:"rounded-full"})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:t.name}),(0,r.jsx)(h,{children:t.contractType})]}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t.email}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t.phone}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Company"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t.company})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Department"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t.department})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Expertise"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t.expertise})]}),(0,r.jsxs)(c.$,{variant:"outline",onClick:()=>P.push("/edit-profile/".concat(e.id)),className:"h-10",children:[(0,r.jsx)(g,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)(d.Zp,{className:"bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-800 dark:to-orange-900",children:(0,r.jsxs)(d.Wu,{className:"p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"General Experience"}),(0,r.jsxs)("p",{className:"text-xl font-bold",children:[M.general," Years"]})]})}),Object.entries(M.byPosition).map((e,t)=>{let[a,s]=e;return(0,r.jsx)(d.Zp,{className:"bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-800 dark:to-blue-900",children:(0,r.jsxs)(d.Wu,{className:"p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a}),(0,r.jsxs)("p",{className:"text-xl font-bold",children:[s.toFixed(1)," Years"]})]})},t)})]}),(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{className:"flex justify-between items-center",children:[(0,r.jsx)(d.ZB,{children:"Diplomas"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>D(e=>Math.max(e-1,1)),disabled:1===k,children:(0,r.jsx)(p,{className:"h-4 w-4"})}),(0,r.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",k," of ",Math.ceil(m.length/5)]}),(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>D(e=>Math.min(e+1,Math.ceil(m.length/5))),disabled:k===Math.ceil(m.length/5),children:(0,r.jsx)(f,{className:"h-4 w-4"})})]})]}),(0,r.jsx)(d.Wu,{children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-left text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("th",{className:"pb-2",children:"Name"}),(0,r.jsx)("th",{className:"pb-2",children:"Issuer"}),(0,r.jsx)("th",{className:"pb-2",children:"Date"}),(0,r.jsx)("th",{className:"pb-2",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:m.slice((k-1)*5,5*k).map(e=>(0,r.jsxs)("tr",{className:"border-t",children:[(0,r.jsx)("td",{className:"py-2",children:e.name}),(0,r.jsx)("td",{className:"py-2",children:e.issuer}),(0,r.jsx)("td",{className:"py-2",children:e.date.toLocaleDateString()}),(0,r.jsx)("td",{className:"py-2",children:e.documents.map(e=>(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>S(e.fileUrl),children:"Download"},e.id))})]},e.id))})]})})]}),(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{className:"flex justify-between items-center",children:[(0,r.jsx)(d.ZB,{children:"Contracts"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>E(e=>Math.max(e-1,1)),disabled:1===C,children:(0,r.jsx)(p,{className:"h-4 w-4"})}),(0,r.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",C," of ",Math.ceil(o.length/5)]}),(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>E(e=>Math.min(e+1,Math.ceil(o.length/5))),disabled:C===Math.ceil(o.length/5),children:(0,r.jsx)(f,{className:"h-4 w-4"})})]})]}),(0,r.jsx)(d.Wu,{children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-left text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("th",{className:"pb-2",children:"Name"}),(0,r.jsx)("th",{className:"pb-2",children:"Position"}),(0,r.jsx)("th",{className:"pb-2",children:"Period"}),(0,r.jsx)("th",{className:"pb-2",children:"Location"}),(0,r.jsx)("th",{className:"pb-2",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:o.slice((C-1)*5,5*C).map(e=>(0,r.jsxs)("tr",{className:"border-t",children:[(0,r.jsx)("td",{className:"py-2",children:e.name}),(0,r.jsx)("td",{className:"py-2",children:e.position}),(0,r.jsxs)("td",{className:"py-2",children:[e.startDate.toLocaleDateString()," -",e.endDate.toLocaleDateString()]}),(0,r.jsx)("td",{className:"py-2",children:e.location}),(0,r.jsx)("td",{className:"py-2",children:e.documents.map(e=>(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>S(e.fileUrl),children:"Download"},e.id))})]},e.id))})]})})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)(d.Zp,{children:[(0,r.jsx)(d.aR,{children:(0,r.jsx)(d.ZB,{children:"Soft Skills"})}),(0,r.jsx)(d.Wu,{className:"flex flex-wrap gap-2",children:y.filter(e=>"Soft"===e.type).map(e=>(0,r.jsx)(h,{variant:"outline",className:"\n                    ".concat("Expert"===e.level?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"Intermediar"===e.level?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100","\n                  "),children:e.name},e.id))})]}),(0,r.jsxs)(d.Zp,{children:[(0,r.jsx)(d.aR,{children:(0,r.jsx)(d.ZB,{children:"Hard Skills"})}),(0,r.jsx)(d.Wu,{className:"flex flex-wrap gap-2",children:y.filter(e=>"Hard"===e.type).map(e=>(0,r.jsx)(h,{variant:"outline",className:"\n                    ".concat("Expert"===e.level?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"Intermediar"===e.level?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100","\n                  "),children:e.name},e.id))})]})]}),t.observations&&(0,r.jsxs)(d.Zp,{children:[(0,r.jsx)(d.aR,{children:(0,r.jsx)(d.ZB,{children:"Observations"})}),(0,r.jsx)(d.Wu,{children:(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-gray-600 dark:text-gray-400",children:t.observations.split("\n").map((e,t)=>(0,r.jsx)("li",{children:e},t))})})]})]})}},3312:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var r=a(5155),s=a(2115),l=a(2317),n=a(652),i=a(1567);let d=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:c=!1,...o}=e,x=c?l.DX:"button";return(0,r.jsx)(x,{className:(0,i.cn)(d({variant:s,size:n,className:a})),ref:t,...o})});c.displayName="Button"},9749:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var r=a(5155),s=a(2115),l=a(1567);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},4595:(e,t,a)=>{"use strict";a.d(t,{IG:()=>o,db:()=>c,j2:()=>d});var r=a(9904),s=a(4565),l=a(7058),n=a(333);let i=0===(0,r.Dk)().length?(0,r.Wp)({apiKey:"AIzaSyDc94PEM0RSbBo6QiLh_PObCzYQG-iaEY4",authDomain:"professional-finder-74c9a.firebaseapp.com",projectId:"professional-finder-74c9a",storageBucket:"professional-finder-74c9a.firebasestorage.app",messagingSenderId:"117033887401",appId:"1:117033887401:web:51c975165b7147bd736bb8"}):(0,r.Dk)()[0],d=(0,s.xI)(i),c=(0,l.aU)(i),o=(0,n.c7)(i)},1567:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(3463),s=a(9795);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,697,716,249,970,441,517,358],()=>t(7169)),_N_E=e.O()}]);